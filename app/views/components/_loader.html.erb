<!-- app/views/components/_loader.html.erb -->
<div class="async-loader-container flex flex-col items-center justify-center h-96 gap-6">
  <!-- Spinner rotatif -->
  <div class="loader-spinner"></div>

  <!-- Texte dynamique -->
  <div class="text-center">
    <p class="text-gray-600 font-medium" id="loader-text">
      Chargement <%= @section_name || 'des donnÃ©es' %>...
    </p>
    <!-- Barre de progression (optionnel) -->
    <div class="mt-4 w-48 bg-gray-200 rounded-full h-1 overflow-hidden">
      <div class="loader-progress-bar"></div>
    </div>
  </div>
</div>

<style>
  .loader-spinner {
    width: 48px;
    height: 48px;
    border: 4px solid #e5e7eb;
    border-top: 4px solid #4f46e5;
    border-radius: 50%;
    animation: spin 1s linear infinite;
  }

  .loader-progress-bar {
    width: 100%;
    height: 100%;
    background: linear-gradient(to right, #4f46e5, #6366f1);
    animation: progress 2s ease-in-out infinite;
  }

  @keyframes spin {
    to { transform: rotate(360deg); }
  }

  @keyframes progress {
    0%, 100% { transform: scaleX(0); transform-origin: left; }
    50% { transform: scaleX(1); }
  }
</style>
